DATA = {
    "players": {
        "alice": {
            "level": 41,
            "total_score": 2824,
            "sessions_played": 13,
            "favorite_mode": "ranked",
            "achievements": {'speed_runner', 'first_blood', 'combo_king',
                             'treasure_seeker', 'pixel_perfect'},
            "achievements_count": 5,
            "region": "north"
        },
        "bob": {
            "level": 16,
            "total_score": 4657,
            "sessions_played": 27,
            "favorite_mode": "ranked",
            "achievements": {'explorer', 'speed_runner'},
            "achievements_count": 2,
            "region": "north"
        },
        "charlie": {
            "level": 44,
            "total_score": 9935,
            "sessions_played": 21,
            "favorite_mode": "ranked",
            "achievements": {'explorer', 'speed_runner', 'first_blood',
                             'combo_king', 'treasure_seeker', 'pixel_perfect',
                             'level_master'},
            "achievements_count": 7,
            "region": "north"
        },
        "diana": {
            "level": 3,
            "total_score": 1488,
            "sessions_played": 21,
            "favorite_mode": "casual",
            "achievements": {'first_blood', 'combo_king',
                             'treasure_seeker', 'pixel_perfect'},
            "achievements_count": 4,
            "region": "north"
        },
        "eve": {
            "level": 33,
            "total_score": 1434,
            "sessions_played": 81,
            "favorite_mode": "casual",
            "achievements": {'speed_runner', 'first_blood', 'combo_king',
                             'treasure_seeker', 'pixel_perfect',
                             'level_master', 'explorer'},
            "achievements_count": 7,
            "region": "central"
        },
        "frank": {
            "level": 15,
            "total_score": 8359,
            "sessions_played": 85,
            "favorite_mode": "competitive",
            "achievements": {'boss_hunter'},
            "achievements_count": 1,
            "region": "east"
        },
    },
    "sessions": [
        {
            "player": "bob",
            "duration_minutes": 94,
            "score": 1831,
            "mode": "competitive",
            "completed": False,
        },
        {
            "player": "bob",
            "duration_minutes": 32,
            "score": 1478,
            "mode": "casual",
            "completed": True,
        },
        {
            "player": "diana",
            "duration_minutes": 17,
            "score": 1570,
            "mode": "competitive",
            "completed": False,
        },
        {
            "player": "alice",
            "duration_minutes": 98,
            "score": 1981,
            "mode": "ranked",
            "completed": True,
        },
        {
            "player": "diana",
            "duration_minutes": 15,
            "score": 2361,
            "mode": "competitive",
            "completed": False,
        },
        {
            "player": "eve",
            "duration_minutes": 29,
            "score": 2985,
            "mode": "casual",
            "completed": True,
        },
        {
            "player": "frank",
            "duration_minutes": 34,
            "score": 1285,
            "mode": "casual",
            "completed": True,
        },
        {
            "player": "alice",
            "duration_minutes": 53,
            "score": 1238,
            "mode": "competitive",
            "completed": False,
        },
        {
            "player": "bob",
            "duration_minutes": 52,
            "score": 1555,
            "mode": "casual",
            "completed": False,
        },
        {
            "player": "frank",
            "duration_minutes": 92,
            "score": 2754,
            "mode": "casual",
            "completed": True,
        },
        {
            "player": "eve",
            "duration_minutes": 98,
            "score": 1102,
            "mode": "casual",
            "completed": False,
        },
        {
            "player": "diana",
            "duration_minutes": 39,
            "score": 2721,
            "mode": "ranked",
            "completed": True,
        },
        {
            "player": "frank",
            "duration_minutes": 46,
            "score": 329,
            "mode": "casual",
            "completed": True,
        },
        {
            "player": "charlie",
            "duration_minutes": 56,
            "score": 1196,
            "mode": "casual",
            "completed": True,
        },
        {
            "player": "eve",
            "duration_minutes": 117,
            "score": 1388,
            "mode": "casual",
            "completed": False,
        },
        {
            "player": "diana",
            "duration_minutes": 118,
            "score": 2733,
            "mode": "competitive",
            "completed": True,
        },
        {
            "player": "charlie",
            "duration_minutes": 22,
            "score": 1110,
            "mode": "ranked",
            "completed": False,
        },
        {
            "player": "frank",
            "duration_minutes": 79,
            "score": 1854,
            "mode": "ranked",
            "completed": False,
        },
        {
            "player": "charlie",
            "duration_minutes": 33,
            "score": 666,
            "mode": "ranked",
            "completed": False,
        },
        {
            "player": "alice",
            "duration_minutes": 101,
            "score": 292,
            "mode": "casual",
            "completed": True,
        },
        {
            "player": "frank",
            "duration_minutes": 25,
            "score": 2887,
            "mode": "competitive",
            "completed": True,
        },
        {
            "player": "diana",
            "duration_minutes": 53,
            "score": 2540,
            "mode": "competitive",
            "completed": False,
        },
        {
            "player": "eve",
            "duration_minutes": 115,
            "score": 147,
            "mode": "ranked",
            "completed": True,
        },
        {
            "player": "frank",
            "duration_minutes": 118,
            "score": 2299,
            "mode": "competitive",
            "completed": False,
        },
        {
            "player": "alice",
            "duration_minutes": 42,
            "score": 1880,
            "mode": "casual",
            "completed": False,
        },
        {
            "player": "alice",
            "duration_minutes": 97,
            "score": 1178,
            "mode": "ranked",
            "completed": True,
        },
        {
            "player": "eve",
            "duration_minutes": 18,
            "score": 2661,
            "mode": "competitive",
            "completed": True,
        },
        {
            "player": "bob",
            "duration_minutes": 52,
            "score": 761,
            "mode": "ranked",
            "completed": True,
        },
        {
            "player": "eve",
            "duration_minutes": 46,
            "score": 2101,
            "mode": "casual",
            "completed": True,
        },
        {
            "player": "charlie",
            "duration_minutes": 117,
            "score": 1359,
            "mode": "casual",
            "completed": True,
        },
    ],
    "game_modes": [
        "casual",
        "competitive",
        "ranked",
    ],
    "achievements": [
        "first_blood",
        "level_master",
        "speed_runner",
        "treasure_seeker",
        "boss_hunter",
        "pixel_perfect",
        "combo_king",
        "explorer",
    ],
}


# === List Comprehension Examples ===
target_players = ["alice", "bob", "charlie", "diana"]

high_score_players = [
    name
    for name, info in DATA["players"].items()
    if info["total_score"] > 2000
]

scores_doubled = [
    DATA["players"][name]["total_score"] * 2 for name in target_players
]

active_players = [
    name
    for name, info in DATA["players"].items()
    if info["sessions_played"] >= 20
]

# === Dict Comprehension Examples ===
target_players = ["alice", "bob", "charlie", "diana"]

player_scores = {
    name: DATA["players"][name]["total_score"]
    for name in target_players
}

scores = [
    info["total_score"]
    for info in DATA["players"].values()
]

score_categories = {
    "high": len([s for s in scores if s >= 2000]),
    "medium": len([s for s in scores if 1000 <= s < 2000]),
    "low": len([s for s in scores if s < 1000])
}

total_achievements = {
    name: DATA["players"][name]["achievements_count"]
    for name in target_players
}

# === Set Comprehension Examples ===

unique_players = {
    players["player"]
    for players in DATA["sessions"]
}

unique_achievements = {
    achievement
    for name, info in DATA["players"].items()
    for achievement in info["achievements"].difference(
        {
            other_ach
            for other_name, other_info in DATA["players"].items()
            if other_name != name
            for other_ach in other_info["achievements"]
        }
    )
}

active_regions = {
    info["region"]
    for name, info in DATA["players"].items()
}

# === Combined Analysis ===

total_players = len(DATA["players"])

total_unique_achievements = len(unique_achievements)

total_score = 0
for name, info in DATA["players"].items():
    total_score += info["total_score"]
average_score = total_score / len(DATA["players"])

performances = {
    name: info["total_score"] + info["achievements_count"] * 10
    for name, info in DATA["players"].items()
}
top_name = max(performances, key=performances.get)
top_score = performances[top_name]
top_achievements_count = DATA["players"][top_name]["achievements_count"]


print("=== Game Analytics Deshboard ===")
print("=== List Comprehension Examples ===")
print(f"High scores(>2000): {high_score_players}")
print(f"Scores doubled: {scores_doubled}")
print(f"Active players: {active_players}")

print("=== Dict Comprehension Examples ===")
print(f"Player scores: {player_scores}")
print(f"Score categories: {score_categories}")
print(f"Achievements counts: {total_achievements}")

print("=== Set Comprehension Examples ===")
print(f"Unique plauers: {unique_players}")
print(f"Unique achievements: {unique_achievements}")
print(f"Active regions: {active_regions}")

print("=== Combined Analysis ===")
print(f"Total players: {total_players}")
print(f"Total unique achievements: {total_unique_achievements}")
print(f"Average score: {average_score:.1f}")
print(f"Top performer: {top_name} ({performances[top_name]} points,"
      f"{top_achievements_count} achievements)")
